{% extends "admin/base.html" %}

{% block title %}Automation & Workflows{% endblock %}
{% block breadcrumb %}Tools / Automation{% endblock %}

{% block content %}
<div class="page-header" style="margin-bottom: 32px;">
    <div class="page-header-top">
        <div>
            <h1 class="page-title">
                <i data-lucide="workflow" style="width: 28px; height: 28px; display: inline-block; vertical-align: middle; margin-right: 12px; color: #238636;"></i>
                Automation & Workflows
            </h1>
            <p class="page-subtitle">Create automated rules, triggers, and workflow processes</p>
        </div>
        <button class="btn btn-primary" onclick="openCreateRuleModal()">
            <i data-lucide="plus" style="width: 16px; height: 16px;"></i>
            Create Rule
        </button>
    </div>
</div>

<!-- Stats -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 32px;">
    <div class="admin-card">
        <div class="admin-card-body" style="display: flex; align-items: center; gap: 16px;">
            <div style="width: 48px; height: 48px; background: rgba(35, 134, 54, 0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i data-lucide="zap" style="width: 24px; height: 24px; color: #238636;"></i>
            </div>
            <div>
                <div style="font-size: 28px; font-weight: 700; color: var(--admin-text);">0</div>
                <div style="font-size: 14px; color: var(--admin-text-secondary);">Active Rules</div>
            </div>
        </div>
    </div>
    <div class="admin-card">
        <div class="admin-card-body" style="display: flex; align-items: center; gap: 16px;">
            <div style="width: 48px; height: 48px; background: rgba(88, 166, 255, 0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i data-lucide="activity" style="width: 24px; height: 24px; color: #58A6FF;"></i>
            </div>
            <div>
                <div style="font-size: 28px; font-weight: 700; color: var(--admin-text);">0</div>
                <div style="font-size: 14px; color: var(--admin-text-secondary);">Executions Today</div>
            </div>
        </div>
    </div>
</div>

<!-- Automation Rules -->
<div class="admin-card">
    <div class="admin-card-header">
        <h2 class="admin-card-title">Automation Rules</h2>
    </div>
    <div class="admin-card-body" style="text-align: center; padding: 60px 20px;">
        <div style="width: 80px; height: 80px; background: var(--admin-bg-tertiary); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
            <i data-lucide="workflow" style="width: 36px; height: 36px; color: var(--admin-text-secondary);"></i>
        </div>
        <h3 style="margin: 0 0 8px; font-size: 18px; font-weight: 600; color: var(--admin-text);">No automation rules yet</h3>
        <p style="margin: 0 0 24px; color: var(--admin-text-secondary); max-width: 400px; margin-left: auto; margin-right: auto;">
            Create your first automation rule to streamline workflows and save time
        </p>
        <button class="btn btn-primary" onclick="openCreateRuleModal()">
            <i data-lucide="plus" style="width: 16px; height: 16px;"></i>
            Create First Rule
        </button>
    </div>
</div>

<!-- Rule Templates -->
<div class="admin-card" style="margin-top: 24px;">
    <div class="admin-card-header">
        <h2 class="admin-card-title">Rule Templates</h2>
    </div>
    <div class="admin-card-body">
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px;">
            <div style="padding: 20px; background: var(--admin-bg-tertiary); border-radius: 10px; border: 1px solid var(--admin-border);">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                    <i data-lucide="bell" style="width: 20px; height: 20px; color: #D29922;"></i>
                    <span style="font-weight: 600;">Auto-assign on create</span>
                </div>
                <p style="margin: 0 0 16px; font-size: 13px; color: var(--admin-text-secondary);">Automatically assign new issues to team lead</p>
                <button class="btn btn-secondary btn-sm">Use Template</button>
            </div>
            <div style="padding: 20px; background: var(--admin-bg-tertiary); border-radius: 10px; border: 1px solid var(--admin-border);">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                    <i data-lucide="mail" style="width: 20px; height: 20px; color: #58A6FF;"></i>
                    <span style="font-weight: 600;">Due date reminder</span>
                </div>
                <p style="margin: 0 0 16px; font-size: 13px; color: var(--admin-text-secondary);">Send email 24h before issue due date</p>
                <button class="btn btn-secondary btn-sm">Use Template</button>
            </div>
            <div style="padding: 20px; background: var(--admin-bg-tertiary); border-radius: 10px; border: 1px solid var(--admin-border);">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                    <i data-lucide="git-merge" style="width: 20px; height: 20px; color: #8957E5;"></i>
                    <span style="font-weight: 600;">Auto-close linked</span>
                </div>
                <p style="margin: 0 0 16px; font-size: 13px; color: var(--admin-text-secondary);">Close subtasks when parent is closed</p>
                <button class="btn btn-secondary btn-sm">Use Template</button>
            </div>
        </div>
    </div>
</div>

<script>
function openCreateRuleModal() {
    alert('Rule creation coming soon!');
}
</script>
{% endblock %}
