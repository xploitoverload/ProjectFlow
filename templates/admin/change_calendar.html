{% extends "admin/base.html" %}

{% block title %}Change Calendar{% endblock %}
{% block breadcrumb %}Tools / Change Calendar{% endblock %}

{% block content %}
<div class="page-header" style="margin-bottom: 32px;">
    <div class="page-header-top">
        <div>
            <h1 class="page-title">
                <i data-lucide="calendar-clock" style="width: 28px; height: 28px; display: inline-block; vertical-align: middle; margin-right: 12px; color: #A371F7;"></i>
                Change Calendar
            </h1>
            <p class="page-subtitle">Plan and track scheduled changes, releases, and maintenance windows</p>
        </div>
        <button class="btn btn-primary" onclick="openScheduleChangeModal()">
            <i data-lucide="plus" style="width: 16px; height: 16px;"></i>
            Schedule Change
        </button>
    </div>
</div>

<!-- Stats -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-bottom: 32px;">
    <div class="admin-card">
        <div class="admin-card-body" style="display: flex; align-items: center; gap: 16px;">
            <div style="width: 48px; height: 48px; background: rgba(163, 113, 247, 0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i data-lucide="calendar" style="width: 24px; height: 24px; color: #A371F7;"></i>
            </div>
            <div>
                <div style="font-size: 28px; font-weight: 700; color: var(--admin-text);">0</div>
                <div style="font-size: 14px; color: var(--admin-text-secondary);">Scheduled</div>
            </div>
        </div>
    </div>
    <div class="admin-card">
        <div class="admin-card-body" style="display: flex; align-items: center; gap: 16px;">
            <div style="width: 48px; height: 48px; background: rgba(210, 153, 34, 0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i data-lucide="alert-triangle" style="width: 24px; height: 24px; color: #D29922;"></i>
            </div>
            <div>
                <div style="font-size: 28px; font-weight: 700; color: var(--admin-text);">0</div>
                <div style="font-size: 14px; color: var(--admin-text-secondary);">Pending Approval</div>
            </div>
        </div>
    </div>
    <div class="admin-card">
        <div class="admin-card-body" style="display: flex; align-items: center; gap: 16px;">
            <div style="width: 48px; height: 48px; background: rgba(35, 134, 54, 0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i data-lucide="check-circle-2" style="width: 24px; height: 24px; color: #238636;"></i>
            </div>
            <div>
                <div style="font-size: 28px; font-weight: 700; color: var(--admin-text);">0</div>
                <div style="font-size: 14px; color: var(--admin-text-secondary);">Completed</div>
            </div>
        </div>
    </div>
    <div class="admin-card">
        <div class="admin-card-body" style="display: flex; align-items: center; gap: 16px;">
            <div style="width: 48px; height: 48px; background: rgba(248, 81, 73, 0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i data-lucide="x-circle" style="width: 24px; height: 24px; color: #F85149;"></i>
            </div>
            <div>
                <div style="font-size: 28px; font-weight: 700; color: var(--admin-text);">0</div>
                <div style="font-size: 14px; color: var(--admin-text-secondary);">Failed</div>
            </div>
        </div>
    </div>
</div>

<!-- Calendar View Toggle -->
<div style="display: flex; gap: 8px; margin-bottom: 24px;">
    <button class="btn btn-primary btn-sm">
        <i data-lucide="calendar" style="width: 14px; height: 14px;"></i>
        Month
    </button>
    <button class="btn btn-ghost btn-sm">
        <i data-lucide="list" style="width: 14px; height: 14px;"></i>
        List
    </button>
    <button class="btn btn-ghost btn-sm">
        <i data-lucide="gantt-chart" style="width: 14px; height: 14px;"></i>
        Timeline
    </button>
</div>

<!-- Calendar Grid -->
<div class="admin-card">
    <div class="admin-card-header" style="display: flex; justify-content: space-between; align-items: center;">
        <div style="display: flex; align-items: center; gap: 16px;">
            <button class="btn btn-ghost btn-sm">
                <i data-lucide="chevron-left" style="width: 16px; height: 16px;"></i>
            </button>
            <h2 class="admin-card-title" style="margin: 0;">January 2026</h2>
            <button class="btn btn-ghost btn-sm">
                <i data-lucide="chevron-right" style="width: 16px; height: 16px;"></i>
            </button>
        </div>
        <button class="btn btn-secondary btn-sm">Today</button>
    </div>
    <div class="admin-card-body" style="padding: 0;">
        <!-- Calendar Header -->
        <div style="display: grid; grid-template-columns: repeat(7, 1fr); border-bottom: 1px solid var(--admin-border);">
            {% for day in ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'] %}
            <div style="padding: 12px; text-align: center; font-size: 12px; font-weight: 600; color: var(--admin-text-secondary); text-transform: uppercase;">
                {{ day }}
            </div>
            {% endfor %}
        </div>
        <!-- Calendar Days -->
        <div style="display: grid; grid-template-columns: repeat(7, 1fr);">
            {% for i in range(35) %}
            <div style="min-height: 100px; border-right: 1px solid var(--admin-border); border-bottom: 1px solid var(--admin-border); padding: 8px; {% if i % 7 == 6 %}border-right: none;{% endif %}">
                <span style="font-size: 13px; font-weight: 500; color: {% if (i - 3) == 24 %}var(--admin-accent){% else %}var(--admin-text-secondary){% endif %};">
                    {% if i >= 3 and (i - 3) <= 30 %}{{ i - 2 }}{% endif %}
                </span>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- Change Types Legend -->
<div class="admin-card" style="margin-top: 24px;">
    <div class="admin-card-header">
        <h2 class="admin-card-title">Change Types</h2>
    </div>
    <div class="admin-card-body">
        <div style="display: flex; flex-wrap: wrap; gap: 24px;">
            <div style="display: flex; align-items: center; gap: 8px;">
                <div style="width: 16px; height: 16px; background: #238636; border-radius: 4px;"></div>
                <span style="font-size: 14px;">Standard Change</span>
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
                <div style="width: 16px; height: 16px; background: #D29922; border-radius: 4px;"></div>
                <span style="font-size: 14px;">Normal Change</span>
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
                <div style="width: 16px; height: 16px; background: #F85149; border-radius: 4px;"></div>
                <span style="font-size: 14px;">Emergency Change</span>
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
                <div style="width: 16px; height: 16px; background: #A371F7; border-radius: 4px;"></div>
                <span style="font-size: 14px;">Maintenance Window</span>
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
                <div style="width: 16px; height: 16px; background: #58A6FF; border-radius: 4px;"></div>
                <span style="font-size: 14px;">Release</span>
            </div>
        </div>
    </div>
</div>

<script>
function openScheduleChangeModal() {
    alert('Schedule change coming soon!');
}
</script>
{% endblock %}
